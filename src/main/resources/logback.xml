<?xml version="1.0" encoding="UTF-8"?>
 <configuration>
    <!--定义日志文件的存储地址 勿在 LogBack 的配置中使用相对路径 -->
    <property name="LOG_HOME" value="D://logs/hello-world" />
    <!--控制台输出格式控制-->
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <!--输出编码-->
        <encoder>
            <!--输出格式%d代表日期，后面跟的是日期格式，%thread是线程名，%-5level表示级别从左显示5个字符宽度，%msg是日志消息，%n是换行符-->
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n</pattern>
            <!--不知道为什么在intellij idea的中控台加入utf-8编码控制会导致中文乱码-->
            <!--<charset>UTF-8</charset>-->
        </encoder>
    </appender>
    <!-- 按照每天生成日志文件，选择的策略是覆盖存储日志（即达到某些条件的日志会被覆盖掉） -->
    <appender name="INFO"
              class="ch.qos.logback.core.rolling.RollingFileAppender">
        <!--日志覆盖策略，TimeBasedRollingPolicy代表基于时间每天创建一个日志，最多存储30天日志，超过30天的日志会被覆盖掉-->
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <!--日志文件输出的文件名 -->
            <FileNamePattern>${LOG_HOME}/info/%d{yyyy-MM-dd-HH}.log</FileNamePattern>
            <!--只能保存30天的日志-->
            <MaxHistory>30</MaxHistory>
        </rollingPolicy>
        <!--日志输出格式-->
        <!--必须采用这种方式指定编码格式，用<Encoding>UTF-8</Encoding>的方式据说在logback0.9.22以后的版本都不能用了-->
        <encoder>
            <!--输出格式%d代表日期，后面跟的是日期格式，%thread是线程名，%-5level表示级别从左显示5个字符宽度，%msg是日志消息，%n是换行符-->
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n</pattern>
            <charset>UTF-8</charset>
        </encoder>
        <!--日志文件最大的大小 -->
        <triggeringPolicy
                class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
            <MaxFileSize>10MB</MaxFileSize>
        </triggeringPolicy>
    </appender>
    <!--错误信息单独存储-->
    <appender name="ERROR" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <Encoding>UTF-8</Encoding>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <FileNamePattern>${LOG_HOME}/error/%d{yyyy-MM-dd HH}.log
            </FileNamePattern>
            <MaxHistory>30</MaxHistory>
        </rollingPolicy>
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n</pattern>
            <charset>UTF-8</charset>
        </encoder>
        <triggeringPolicy
                class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
            <MaxFileSize>10MB</MaxFileSize>
        </triggeringPolicy>
        <!-- 只打印错误日志 -->
        <filter class="ch.qos.logback.classic.filter.LevelFilter">
            <level>ERROR</level>
            <onMatch>ACCEPT</onMatch>
            <onMismatch>DENY</onMismatch>
        </filter>
    </appender>
    <!-- 输出到控制台和文件，可定义更多的 Appender -->
    <root level="DEBUG">
        <appender-ref ref="STDOUT"></appender-ref>
        <appender-ref ref="INFO"></appender-ref>
        <appender-ref ref="ERROR"></appender-ref>
    </root>     <!-- 下面配置一些第三方包的日志过滤级别，用于避免刷屏 -->
 </configuration>